<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>yarn@berry | linrz</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/assets/css/0.styles.08bdfdef.css" as="style"><link rel="preload" href="/assets/js/app.f896f474.js" as="script"><link rel="preload" href="/assets/js/3.44ff7866.js" as="script"><link rel="preload" href="/assets/js/1.cd6517b5.js" as="script"><link rel="preload" href="/assets/js/8.000ad2a2.js" as="script"><link rel="preload" href="/assets/js/5.5d81cbfa.js" as="script"><link rel="prefetch" href="/assets/js/10.69c42d1a.js"><link rel="prefetch" href="/assets/js/11.c078216b.js"><link rel="prefetch" href="/assets/js/12.d9dcbd39.js"><link rel="prefetch" href="/assets/js/13.c5c5db96.js"><link rel="prefetch" href="/assets/js/14.13bc983c.js"><link rel="prefetch" href="/assets/js/15.d0895eff.js"><link rel="prefetch" href="/assets/js/16.c55bc43d.js"><link rel="prefetch" href="/assets/js/17.69773d0e.js"><link rel="prefetch" href="/assets/js/18.ce78b8fa.js"><link rel="prefetch" href="/assets/js/4.3cf70c88.js"><link rel="prefetch" href="/assets/js/6.859179a3.js"><link rel="prefetch" href="/assets/js/7.4a666cf5.js"><link rel="prefetch" href="/assets/js/9.62d02a8d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.08bdfdef.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="cute-nav"><div class="cute-nav-left"><a href="/">linrz</a></div> <div class="cute-nav-right"><div class="cute-nav-item cute-nav-active"><a href="/">Blog</a></div><div class="cute-nav-item "><a href="/about.html">About</a></div></div></div> <div class="cute-content"><div class="cute-page-header"><div class="cute-page-title">yarn@berry</div> <div class="cute-page-subtitle"><span class="cute-page-date">03/21 2019</span> <span>â˜•ï¸</span> <span>4 min read</span></div></div> <div class="cute-page-markdown"><div slot="default" class="markdown-body content default"><p>Node.js ç”Ÿæ€ä¸­ï¼Œæœ€å–œæ¬¢çš„åŒ…ç®¡ç†å™¨è¿˜æ˜¯ yarn äº†ï¼Œyarn çš„æ ¸å¿ƒå¼€å‘è€… arcanis åœ¨ä¸€æœˆä»½æ—¶æå‡ºäº†å¯¹ yarn æ–‡æ¥çš„å±•æœ›ï¼Œæœ‰ä¸€äº›å¾ˆæœ‰æ„æ€çš„ Featureï¼Œå¯ä»¥çª¥è§ yarn çš„é‡å¿ƒã€‚</p> <h2 id="plugin-system"><a href="#plugin-system" class="header-anchor">#</a> Plugin system</h2> <p>yarn ä¼šæä¾›æ’ä»¶åŒ–çš„ç³»ç»Ÿæ”¯æŒï¼Œåœ¨ resolution/fetch/link ç­‰æ­¥éª¤ä¸­å¯ä»¥è¿è¡Œæ’ä»¶çš„ä¸šåŠ¡é€»è¾‘ï¼Œä¸¾ä¸ªæ —å­ï¼Œ<code>yarn@berry</code> å†…ç½®çš„ <a href="https://github.com/yarnpkg/berry/tree/master/packages/plugin-github" target="_blank" rel="noopener noreferrer">plugin-github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> æ”¯æŒ github çš„åœ°å€ï¼Œç±»ä¼¼ <code>https://github.com/${username}/${reponame}/archive/${branch}.tar.gz</code> ä½œä¸ºä¾èµ–ï¼Œå½“ç„¶ä¹Ÿæ”¯æŒä»»æ„çš„ urlï¼Œplugin-http ä¼šå¸®æˆ‘ä»¬å®Œæˆä¾èµ–çš„ä¸‹è½½å®‰è£…è§£æç­‰æ­¥éª¤ã€‚</p> <h2 id="cli"><a href="#cli" class="header-anchor">#</a> CLI</h2> <p>ç”±äºä¸Šæ–‡æåˆ°çš„æ’ä»¶åŒ–ï¼Œyarn ä¸åœ¨æ˜¯ä¸€ä¸ªå•çº¯çš„åŒ…ç®¡ç†å™¨ï¼Œä¸éœ€è¦è§£æ package.jsonï¼Œå¯ä»¥å¼•ç”¨ yarn ä¸­ç›¸å…³çš„ api å®Œæˆä¸€äº›æ“ä½œï¼Œç¬”è€…æš‚æœªåšè¿‡å®éªŒï¼Œè¿™é‡Œæš‚ä¸è®¨è®ºå…·ä½“ç”¨æ³•ã€‚</p> <h2 id="lockfile"><a href="#lockfile" class="header-anchor">#</a> Lockfile</h2> <p>yarn.lock çš„æ ¼å¼ä¼šæ”¹æˆ YAML æ ¼å¼çš„å­é›†ï¼Œå¹¶ä¸”ä¼šæŠŠ resolved åŸæ¥çš„ç»å¯¹è·¯å¾„æ›¿æ¢æˆç›¸å¯¹çš„ï¼Œè¿™å¯¹å¼€å‘è€…åˆ‡æ¢ registry æ›´åŠ å‹å¥½ã€‚</p> <div class="language- extra-class"><pre class="language-text"><code>wrappy@1:
  version &quot;1.0.2&quot;
  resolved &quot;https://registry.yarnpkg.com/wrappy/-/wrappy-1.0.2.tgz#b5243d8f3ec1aa35f1364605bc0d1036e30ab69f&quot;

wrappy@1:
  version &quot;1.0.2&quot;
  resolved &quot;/wrappy/-/wrappy-1.0.2.tgz#b5243d8f3ec1aa35f1364605bc0d1036e30ab69f&quot;
</code></pre></div><h2 id="flow-typescript"><a href="#flow-typescript" class="header-anchor">#</a> Flow =&gt; TypeScript</h2> <p>Flow å†æ¬¡æƒ¨é­äº²çˆ¹æŠ›å¼ƒï¼Œ<code>yarn@berry</code> ç”¨ typecript è¿›è¡Œäº†é‡å†™ï¼Œè¿™ä¼šå¯¹ç¬¬ä¸‰æ–¹çš„ç»´æŠ¤è€…æ›´åŠ å‹å¥½ã€‚</p> <h2 id="scripts-underlying-system"><a href="#scripts-underlying-system" class="header-anchor">#</a> Scripts underlying system</h2> <p>ä¸éœ€è¦åœ¨ package.json çš„ scripts ä¸­ä½¿ç”¨ç±»ä¼¼ cross_env çš„å‘½ä»¤äº†ï¼Œyarn ä¼šé»˜è®¤ä½¿ç”¨ä¸€ä¸ªè½»é‡çº§çš„æ”¯æŒ POSIX æ ‡å‡†çš„ shellã€‚</p> <h2 id="tar-zip"><a href="#tar-zip" class="header-anchor">#</a> Tar =&gt; Zip</h2> <p>ç¼“å­˜æ–‡ä»¶çš„æ ¼å¼ä» tar åˆ‡æ¢æˆ zipï¼Œzip çš„éšæœºè®¿é—®é€Ÿåº¦ä¼šæ›´å¿«ï¼Œå¦å¤–ç¬”è€…çŒœæµ‹å¯èƒ½æ˜¯å‡å°‘ä¸‹ç¼“å­˜æ–‡ä»¶å¤§å°çš„ä½“ç§¯ï¼Œæ¯•ç«Ÿç”¨ tar æ‰“å‡ºæ¥çš„æ–‡ä»¶æ˜¯æ¯”åŸæ¥å¤§å°è¦å¤§çš„ï¼Œzip ä¼šæœ‰ toc æ›´æ–¹ä¾¿ï¼Œéšæœºè®¿é—® zip åŒ…ä¸­çš„æŸä¸ªæ–‡ä»¶å¤¹åªéœ€è¦åœ¨ toc ä¸­æ‰¾åˆ°å­˜æ”¾çš„æ–‡å­—ï¼Œç›´æ¥è·³è¿‡å»å³å¯ã€‚</p> <h2 id="better-for-monorepo"><a href="#better-for-monorepo" class="header-anchor">#</a> Better for monorepo</h2> <p>run / add ç›¸å…³çš„å‘½ä»¤ä¸å†ä¸éœ€ cd åˆ°ä¸€ä¸ªä¸ªå­ package ç›®å½•ä¸‹æ‰§è¡Œã€‚</p> <h2 id="more"><a href="#more" class="header-anchor">#</a> More</h2> <p>å¯ä»¥æˆ³<a href="https://github.com/yarnpkg/yarn/issues/6953" target="_blank" rel="noopener noreferrer">è¿™é‡Œ<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>é˜…è¯» arcanis åœ¨ issue åŒºè®¨è®ºçš„åŸæ–‡ã€‚</p> <h2 id="how-to-try-yarn-berry"><a href="#how-to-try-yarn-berry" class="header-anchor">#</a> How to try yarn@berry</h2> <ol><li>å‡çº§ yarn@1.15ï¼Œè¿™ä¸ªç‰ˆæœ¬åŠ å…¥äº† berry çš„ policy</li> <li>æ‰“å¼€ä½ çš„ä¸€ä¸ªé¡¹ç›®</li> <li><code>yarn policies set-version nightly</code></li> <li><code>yarn policies set-version berry</code>  ğŸ›¬</li></ol> <p>å¦‚æœæƒ³æ¢å¤åˆ° yarn v1ï¼ŒæŠŠé¡¹ç›®æ ¹ç›®å½•ä¸‹ç”Ÿæˆçš„ .yarnrc æ–‡ä»¶åˆ é™¤å³å¯ã€‚
Let's try berry ! ğŸ˜</p></div></div> <div class="cute-share">
  Share via
  <div class="cute-share-icon"><i class="iconfont icon-weibo"></i></div><div class="cute-share-icon"><i class="iconfont icon-twitter"></i></div><div class="cute-share-icon"><i class="iconfont icon-wechat"></i></div><div class="cute-share-icon"><i class="iconfont icon-download"></i></div> <div class="van-overlay" style="z-index:1;display:none;"><div class="cute-qrcode-container"><div class="cute-qrcode-inner"><div class="cute-qrcode-title">å¾®ä¿¡æ‰«ä¸€æ‰«ï¼Œå³ä¸Šè§’åˆ†äº«</div> <div value="" level="L" background="#fff" foreground="#000"><canvas height="200" width="200" style="width:200px;height:200px;"></canvas></div></div></div></div></div></div> <div class="cute-footer cute-content"><div class="cute-footer-copyright">
    Â© linrz Themed By <a target="_blank" href="https://github.com/linrz/vuepress-theme-cute">vuepress-theme-cute</a></div> <div class="cute-footer-hills"></div></div></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.f896f474.js" defer></script><script src="/assets/js/3.44ff7866.js" defer></script><script src="/assets/js/1.cd6517b5.js" defer></script><script src="/assets/js/8.000ad2a2.js" defer></script><script src="/assets/js/5.5d81cbfa.js" defer></script>
  </body>
</html>
